"0","predict.mnl <- function(model, data) {"
"0","  # Function for predicting preference shares from a MNL model "
"0","  # model: mlogit object returned by mlogit()"
"0","  # data: a data frame containing the set of designs for which you want to "
"0","  #       predict shares.  Same format at the data used to estimate model. "
"0","  data.model <- model.matrix(update(model$formula, 0 ~ .), data = data)[,-1]"
"0","  logitUtility <- data.model%*%model$coef"
"0","  share <- exp(logitUtility)/sum(exp(logitUtility))"
"0","  cbind(share, data)"
"0","}"
